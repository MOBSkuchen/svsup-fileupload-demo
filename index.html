<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="/r/style.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Suprime Sonvogel</title>
</head>
<body>
<div class="top-bar">
  <nav>
    <a href="/f/index">Fileupload</a>
  </nav>
</div>
<div>
  <h1>Suprime Sonvogel</h1>
  <h3>We are a company</h3>
  <div style="height: 200px; overflow: hidden">
    <h2 id="target"></h2>
  </div>

  <br>
  <br>
  <br>

  <div class="articles">
    {{articles}}
  </div>
</div>
</body>
</html>


<script>
  function sleep (time) {
    return new Promise((resolve) => setTimeout(resolve, time));
  }
  let i = 0;
  const speed = 50;

  const texts = [
    "Create",
    "Develop",
    "Maintain",
    "Improve",
    "Effective",
    "Blazingly fast",
    "Transparent"
  ]

  let x = Math.floor(Math.random() * texts.length);
  console.log(x);
  let txt = texts[x];

  function switchText() {
    if (x >= texts.length-1) {
      x = 0
    } else {
      x++;
    }
    txt = texts[x];
  }

  function typeWriterA() {
    if (i <= txt.length) {
      sleep(speed).then(() => {
        if (i !== -1) {
          document.getElementById("target").innerHTML = txt.slice(0, i);
        }
        i++;
        typeWriterA();
      })
    } else {
      sleep(speed * 50).then(() => {
        typeWriterB();
      })
    }
  }

  function typeWriterB() {
    if (i >= 0) {
      sleep(speed).then(() => {
        if (i !== -1) {
          document.getElementById("target").innerHTML = txt.slice(0, i);
        }
        i--;
        typeWriterB();
      })
    } else {
      sleep(speed * 2).then(() => {
        switchText();
        typeWriterA();
      })
    }
  }

  typeWriterA();
</script>